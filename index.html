<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>demo</title>
  </head>
  <body>
    <img src="assets/texture.jpg" id="tex" style="display: none;"/>

    <iframe src="assets/cube.txt" type="text/plain" id="cube" style="display: none;"></iframe>

    <canvas style="
      background-color: #000;
      display: block;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      width: 100%;
      " id="render" onclick="document.getElementById('render').requestPointerLock()"></canvas>
      
    <script type="module">
      import init, { main } from "./pkg/schnellwerke.js";
      console.log("Loading assets...");
      if (document.readyState === "complete"){
        console.log("Already loaded...");
        init().then(() => {
          main();
        });
      }else{
        console.log("Still Loading...");
        window.addEventListener("load", (event) => {
          console.log("Already loaded...");
          init().then(() => {
            main();
          });
        });
      }
    </script>
  </body>
</html>
